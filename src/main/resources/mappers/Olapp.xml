<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.realtime.streamer.mappers.OlappMapper">
    <!-- 수행중인 중복제거 정보 조회 -->
    <select id="findAll" resultType="Olapp">
        SELECT ACT_ID, OLAPP_KIND_CD, OLAPP_USE_OBJ_ID, OLAPP_OBJ_ID, CAMP_ID, REAL_FLOW_ID
        FROM R_ACT_OLAPP_USE_LIST

<!--        <where>-->
<!--            <if test="itemName != null and itemName != ''" >-->
<!--                and item_name like concat('%', #{itemName}, '%')-->
<!--            </if>-->
<!--            <if test="maxPrice != null" >  &lt;!&ndash;  <=  &ndash;&gt;-->
<!--                and price &lt;= #{maxPrice}-->
<!--            </if>-->
<!--        </where>-->
    </select>
    <!-- 채널 제외 조건 조회 -->
    <select id="findActExcldOlapp" resultType="Olapp">
        SELECT EXCLD_COND_ID
          FROM R_ACT_EXCLD_USE_LIST
         WHERE ACT_ID = #{actId}
    </select>
    <!-- 확장 퍼티그 리스트 조회 -->
    <select id="findExternalFatList" resultType="Olapp">
        SELECT ACT_ID, OLAPP_KIND_CD
        FROM R_ACT_EXCLD_USE_LIST
        WHERE OLAPP_KIND_CD like '2%' order by ACT_ID asc
    </select>
    <!-- 글로벌 퍼티그 미사용 채널 추출 -->
    <select id="findNoFatigueAct" resultType="Olapp">
        select ACT_ID, OLAPP_KIND_CD from R_ACT_GLBL_FATG where KIND_UNUSED_YN = '1'
    </select>
</mapper>